<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Login Page</title>
		<style>
			body {
				font-family: Arial, sans-serif;
				background-color: #f2f2f2;
				display: flex;
				justify-content: center;
				align-items: center;
				height: 100vh;
			}

			.login-container {
				background-color: white;
				padding: 30px;
				border-radius: 8px;
				box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
				width: 300px;
			}

			.login-container h2 {
				text-align: center;
				margin-bottom: 20px;
			}

			.login-container input[type="text"],
			.login-container input[type="password"] {
				width: 100%;
				padding: 10px;
				margin: 8px 0;
				border: 1px solid #ccc;
				border-radius: 4px;
			}

			.login-container button {
				width: 100%;
				padding: 10px;
				background-color: #007bff;
				color: white;
				border: none;
				border-radius: 4px;
				cursor: pointer;
			}

			.login-container button:hover {
				background-color: #0056b3;
			}
		</style>
	</head>

	<body>
		<div class="login-container">
			<h2>Login</h2>
			<form id="loginForm">
				<input
					type="text"
					id="username"
					placeholder="Username"
					required
				/>
				<input
					type="password"
					id="password"
					placeholder="Password"
					required
				/>
				<button type="submit">Log In</button>
			</form>
		</div>

		<script>
			document.getElementById("loginForm").addEventListener("submit", async function (event) {
				event.preventDefault();

				const username = document.getElementById("username").value;
				const password = document.getElementById("password").value;

				try {
				const response = await fetch("login.php", {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify({ username, password })
				});

				const result = await response.json();

				if (result.success) {
					window.location.href = "./dashboard/dashboard.html";
				} else {
					alert(result?.message || "Login failed: Invalid username or password.");
				}
				} catch (error) {
					console.error("Error:", error);
					alert("An error occurred while connecting to the server.");
				}
			});
		</script>
	</body>
</html>
